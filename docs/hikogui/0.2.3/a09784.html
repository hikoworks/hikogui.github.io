<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HikoGUI: Code Style rules</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="version_dropdown.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">HikoGUI
   </div>
   <div id="projectbrief">A low latency retained GUI</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Code Style rules </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1 class="doxsection"><a class="anchor" id="autotoc_md89"></a>
Identifiers</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md90"></a>
Casing</h2>
<p>The following identifiers are in snake_case:</p><ul>
<li>functions,</li>
<li>member functions,</li>
<li>variables,</li>
<li>member variables,</li>
<li>arguments,</li>
<li>enum values,</li>
<li>struct types,</li>
<li>union types,</li>
<li>enum types,</li>
<li>concepts.</li>
</ul>
<p>The following identifiers are in CamelCase:</p><ul>
<li>template arguments.</li>
</ul>
<p>Capital letters within a snake_case identifier are allowed for proper nouns and abbreviations.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md91"></a>
Prefixes and Suffixes</h2>
<p>Common prefixes and suffixes:</p>
<ul>
<li>prefix <span class="tt">num_</span>: Size of a list of items. The prefixed name should be plural</li>
<li>suffix <span class="tt">_nr</span>: Ordinal of an item.</li>
<li>suffix <span class="tt">_i</span> <span class="tt">_j</span> <span class="tt">_k</span>: Index inside a loop associated with an specific list.</li>
<li>suffix <span class="tt">_it</span> <span class="tt">_jt</span> <span class="tt">_kt1</span>: Iterator inside a loop associated with an specific list.</li>
<li>prefix <span class="tt">_</span>: Private or protected member variables and functions.</li>
<li>suffix <span class="tt">_</span>: A variable after conversion to a different type.</li>
<li>prefix <span class="tt">tt_</span>: A macro</li>
<li>suffix <span class="tt">_type</span>: A type created inside a class.</li>
</ul>
<p>Private or protected member variables are prefixed with "\_", so that getter/setter member functions names will not alias with the variables.</p>
<p>Private or protected member functions may have the "\_" prefix when they implement the functionality of a public function of the same name.</p>
<p>Macros, because they do not belong to a namespace, are prefixed with the prefix "tt\_".</p>
<p>The suffix "\_" may be used when a new variable needs to be introduced when only its type has changed using casting or conversion. If more than one such variable is needed the name of the type should be appended.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md92"></a>
Global variables</h1>
<p>Singletons (classes that can only be instantiated once) are discouraged.</p>
<p>Instead add a static-member-variable to the class, which is a raw-pointer to an instance of that class. When there is only one such member, call it "global".</p>
<p>These "global" static-member-variables should be allocated and initiaized in the constructor of the <span class="tt"><a class="el" href="a03604.html">tt::application</a></span> class. Using <span class="tt"><a class="el" href="a03604.html">tt::application</a></span> as the owner of the global instance of these classes will make sure that these instances are cleaned up before <span class="tt">main()</span> has finished.</p>
<p>It is recommended that the <span class="tt">global</span> static-member-variables are <span class="tt"><a class="elRef" href="http://en.cppreference.com/w/cpp/algorithm/unique.html">std::unique</a>\_ptr</span> and <span class="tt">std::shared\_ptr</span>.</p>
<p>If it is not possible to add a static-member-variable due to circular dependencies than nameing a global variable as the name of the followed by the name of the global variable with and underscore "\_" as separator.</p>
<p>Another interesting global variable, either as a static-member-variable or as a global variable would be a mutex named <span class="tt">mutex</span>.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md93"></a>
Two phase construction</h1>
<p>When a polymorphic class needs to polymorphic initialization and destruction it should add the following two virtual functions:</p>
<ul>
<li>virtual void <span class="tt">init()</span></li>
<li>virtual void <span class="tt">deinit()</span></li>
</ul>
<p><span class="tt">init()</span> should be called directly after the lifetime of the object has started. It should be called from the same thread as its construction and the reference to the object should not have been shared with others.</p>
<p><span class="tt">deinit()</span> should be called directly before the lifetime of the object is finished. It should be called from the same thread as the object's destructor and no reference to the object should exist anymore outside of the current function.</p>
<p>This means that like in the constructor and destructor inside <span class="tt">init()</span> and <span class="tt">deinit()</span> there is no need for handling multithreading issues.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md94"></a>
Delegates</h1>
<p>Delegates are polymorphic class instances that are passed to an object that is being managed. The managed object will call into the delegate to send messages and retrieve information.</p>
<p>The managed object should hold a <span class="tt"><a class="elRef" href="http://en.cppreference.com/w/cpp/memory/weak_ptr.html">std::weak_ptr</a></span> to the base class of the delegate. This allows the delegate to be deallocated with the managed object functioning.</p>
<p>When calling function into the delegate the first argument <span class="tt">sender</span> should be a reference to the managed object.</p>
<p>Delegates should at least have the following two function to handle the lifetime of the managed object:</p>
<ul>
<li>virtual void init(managed_object &amp;sender)</li>
<li>virtual void deinit(managed_object &amp;sender)</li>
</ul>
<p>The two functions mirror the two phase construction and are often called from <span class="tt">init()</span> and <span class="tt">deinit()</span> of the managed object. However they may be called from the constructor and destructor of the object as well. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.8-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on <span class="timestamp"></span> for HikoGUI by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.16.1
</small></address>
<script>
mermaid.initialize({
    startOnLoad: true,
    theme: 'base',
    themeVariables: {
    primaryColor: '#f4f4ff',
    secondaryColor: 'rgba(244,244,255,0.9)',
    tertiaryColor: '#F9FAFC',
    },
});
</script>
</body>
</html>
</html>
