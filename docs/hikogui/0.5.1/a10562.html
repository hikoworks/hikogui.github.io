<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HikoGUI: How to use widgets</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="version_dropdown.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">HikoGUI
   </div>
   <div id="projectbrief">A low latency retained GUI</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">How to use widgets </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1 class="doxsection"><a class="anchor" id="autotoc_md91"></a>
Creating Windows</h1>
<p>In the following example a new window is created. The <span class="tt">make_window()</span> function first argument is the <span class="tt"><a class="el" href="a04971.html" title="A label consisting of localizable text and an icon.">tt::label</a></span> of the window. The label consists of both a translatable text and an icon.</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> &amp;window = gui_system::global().make_window(l10n(<span class="stringliteral">&quot;The window title&quot;</span>));</div>
</div><!-- fragment --><p>The second optional argument to <span class="tt">make_window()</span> is a subclass of <span class="tt"><a class="el" href="a04811.html">tt::gui_window_delegate</a></span>. The window delegate can be used to store data with the window and provide initialization of the widgets.</p>
<p>Unlike many other GUI libraries a window is not given a size; its initial, minimum and maximum size is determined by the constrain and layout algorithm of the widgets being displayed in the window.</p>
<p>The <span class="tt">tt::gui_system::global()</span> function returns a reference to an global instance of the GUI system. The first call to <span class="tt">global()</span> initializes the GUI system and potentially other subsystems. From this point forward, any usage of the GUI system, its windows and their widgets must be done from the same thread, called the <span class="tt">gui_thread</span>.</p>
<p>After creating at least one window you should call <span class="tt"><a class="el" href="a04795.html#ae9227529a99ff3b6f703bff633cc4794" title="Start the GUI event loop.">tt::gui_system::loop()</a></span> on the global object. This function will enter the system's GUI-loop, monitor keyboard &amp; mouse events and render all the windows. Once all windows are closed the <span class="tt">loop()</span> function will return with a return code, which may be returned from the <span class="tt">main()</span> function.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="a00629.html#aa1c0db771b0f6c68446e32a877a6b0eb">tt_main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> &amp;window = gui_system::global().make_window(l10n(<span class="stringliteral">&quot;The window title&quot;</span>));</div>
<div class="line">    window.content().make_widget&lt;momentary_button_widget&gt;(<span class="stringliteral">&quot;A1&quot;</span>, l10n(<span class="stringliteral">&quot;Does nothing&quot;</span>));</div>
<div class="line">    <span class="keywordflow">return</span> gui_system::global().loop();</div>
<div class="line">}</div>
<div class="ttc" id="aa00629_html_aa1c0db771b0f6c68446e32a877a6b0eb"><div class="ttname"><a href="a00629.html#aa1c0db771b0f6c68446e32a877a6b0eb">tt_main</a></div><div class="ttdeci">int tt_main(int argc, char *argv[])</div><div class="ttdoc">Main entry-point.</div></div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md92"></a>
How to add widgets</h1>
<p>Widget are graphical elements which are shown inside a window, and often can be interacted with using the mouse an keyboard, such as various kinds of buttons, text fields and selection boxes.</p>
<p>Many widgets such as the grid layout widget, column layout widget or the scroll view widget are containers for other widgets. The top level widget of a window for example contains two containers a <span class="tt"><a class="el" href="a06207.html" title="A GUI widget that lays out child-widgets in a grid with variable sized cells.">tt::grid_widget</a></span> for the content area and a <span class="tt"><a class="el" href="a06307.html" title="A toolbar widget is located at the top of a window and lays out its children horizontally.">tt::toolbar_widget</a></span>.</p>
<p>In the example below we are adding 4 widgets to the content area of the window. The <span class="tt">tt::window::content()</span> function returns a reference to the <span class="tt"><a class="el" href="a06207.html" title="A GUI widget that lays out child-widgets in a grid with variable sized cells.">tt::grid_widget</a></span>, and we use its <span class="tt">make_widget&lt;&gt;()</span> function to add new widgets. The template argument is the type of widget to instantiate and the first argument is the position within the grid widget. The rest of the arguments are passed to the constructor of the new widget.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="a00629.html#aa1c0db771b0f6c68446e32a877a6b0eb">tt_main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">    observable&lt;int&gt; value = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> &amp;window = gui_system::global().make_window(l10n(<span class="stringliteral">&quot;Radio button example&quot;</span>));</div>
<div class="line"> </div>
<div class="line">    window.content().make_widget&lt;label_widget&gt;(<span class="stringliteral">&quot;A1&quot;</span>, l10n(<span class="stringliteral">&quot;radio buttons:&quot;</span>));</div>
<div class="line">    window.content().make_widget&lt;radio_button_widget&gt;(<span class="stringliteral">&quot;B1&quot;</span>, l10n(<span class="stringliteral">&quot;one&quot;</span>), value, 1);</div>
<div class="line">    window.content().make_widget&lt;radio_button_widget&gt;(<span class="stringliteral">&quot;B2&quot;</span>, l10n(<span class="stringliteral">&quot;two&quot;</span>), value, 2);</div>
<div class="line">    window.content().make_widget&lt;radio_button_widget&gt;(<span class="stringliteral">&quot;B3&quot;</span>, l10n(<span class="stringliteral">&quot;three&quot;</span>), value, 3);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> gui_system::global().loop();</div>
<div class="line">}</div>
</div><!-- fragment --><p>There are often two different ways to construct a widget: with a delegate or with an observable. In the example above we use an <span class="tt"><a class="el" href="a05023.html" title="A value which can be observed for modifications.">tt::observable</a>&lt;int&gt;</span> for the radio buttons to monitor and update. Sharing the same observable allows the radio buttons to act as a set.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md93"></a>
Observable</h2>
<p>An observable is a value that will use callbacks to notify listeners when its value changes. Unlike other parts of the GUI system, observables may be read and written from any thread.</p>
<p>In the example below a checkbox monitors the observable <span class="tt">my_value</span>;</p><ul>
<li>when the value is <span class="tt">bar</span> the box is checked,</li>
<li>when the value is <span class="tt">foo</span> the box is unchecked,</li>
<li>when the value is anything else the box shows a dash.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">enum class</span> my_type {foo, bar, baz};</div>
<div class="line"> </div>
<div class="line">observable&lt;my_type&gt; my_value;</div>
<div class="line">window.content().make_widget&lt;checkbox_widget&gt;(<span class="stringliteral">&quot;A1&quot;</span>, my_value, my_type::bar, my_type::foo);</div>
</div><!-- fragment --><p>As you can see the checkbox_widget will work with custom types. For the checkbox the type needs to be equality comparable and assignable.</p>
<p>It is also possible to chain observables to each other. Chaining is done by assigning an observable to another observable. In the example below we make another checkbox, but now it will listen to the <span class="tt">my_chain</span> observable. When <span class="tt">my_value</span> gets assigned to <span class="tt">my_chain</span>, <span class="tt">my_chain</span> will start observing <span class="tt">my_value</span>. Any modification of <span class="tt">my_value</span> will be observed by the checkbox through the chain of observers.</p>
<div class="fragment"><div class="line"><span class="keyword">enum class</span> my_type {foo, bar, baz};</div>
<div class="line"> </div>
<div class="line">observable&lt;my_type&gt; my_value;</div>
<div class="line">observable&lt;my_type&gt; my_chain;</div>
<div class="line">window.content().make_widget&lt;checkbox_widget&gt;(<span class="stringliteral">&quot;A1&quot;</span>, my_chain, my_type::bar, my_type::foo);</div>
<div class="line"> </div>
<div class="line">my_chain = my_value;</div>
<div class="line">my_value = my_type::bar;</div>
</div><!-- fragment --><p>Observables are used for many member variables of a widget, including the <span class="tt"><a class="el" href="a06311.html#a49267272fcf9e9b078b92fa07b50f168" title="The widget is enabled.">tt::widget::enabled</a></span>, <span class="tt"><a class="el" href="a06311.html#a36ade61e3648150f2479941ebfe2810c" title="The widget is visible.">tt::widget::visible</a></span> members and various labels.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md94"></a>
Delegates</h2>
<p>Widget may also be controlled through a delegate object. The widget queries a delegate for the data to display and sends messages to the delegate when a user interacts with the widget.</p>
<p>Delegates are actually the primary way for controlling a widget, the <span class="tt"><a class="el" href="a05023.html" title="A value which can be observed for modifications.">tt::observable</a></span> examples above are implemented by templated default-delegates.</p>
<p>In the example below a user defined instance of <span class="tt">my_delegate</span> is passed to the constructor of the <span class="tt">tt::checkbox_button</span>. <span class="tt">my_delegate</span> must inherit from <span class="tt"><a class="el" href="a06175.html">tt::button_delegate</a></span>.</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> delegate = <a class="code hl_functionRef" href="http://en.cppreference.com/w/cpp/memory/shared_ptr/make_shared.html">std::make_shared&lt;my_delegate&gt;</a>();</div>
<div class="line"><span class="keyword">auto</span> button = window.make_widget&lt;checkbox_button&gt;(<span class="stringliteral">&quot;A1&quot;</span>, delegate));</div>
<div class="ttc" id="amake_shared_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/memory/shared_ptr/make_shared.html">std::make_shared</a></div><div class="ttdeci">T make_shared(T... args)</div></div>
</div><!-- fragment --><p>The <span class="tt"><a class="el" href="a04795.html" title="Graphics system.">tt::gui_system</a></span>, <span class="tt"><a class="el" href="a04807.html">tt::gui_window</a></span> and the widgets will retain only a <a class="elRef" href="http://en.cppreference.com/w/cpp/memory/weak_ptr.html">std::weak_ptr</a> to the given delegate.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md95"></a>
A list of widgets</h1>
<ul>
<li><b>Simple widgets</b><ul>
<li><span class="tt"><a class="el" href="a06291.html" title="A text widget.">tt::text_widget</a></span>: Displays text.</li>
<li><span class="tt"><a class="el" href="a06215.html" title="An simple GUI widget that displays an icon.">tt::icon_widget</a></span>: Displays a small image.</li>
<li><span class="tt"><a class="el" href="a06219.html" title="The GUI widget displays and lays out text together with an icon.">tt::label_widget</a></span>: Lays out and displays text and a icon together.</li>
</ul>
</li>
<li><b>Container widgets</b><ul>
<li><span class="tt"><a class="el" href="a06207.html" title="A GUI widget that lays out child-widgets in a grid with variable sized cells.">tt::grid_widget</a></span>: Lays out children in a grid of variable sized cells.</li>
<li><span class="tt"><a class="el" href="a06243.html" title="A row/column widget lays out child widgets along a row or column.">tt::row_column_widget</a></span>: Lays out children in a row or column.</li>
<li><span class="tt"><a class="el" href="a06279.html" title="A graphical element that shows only one of a predefined set of mutually exclusive child widgets.">tt::tab_widget</a></span>: Shows one child at a time.</li>
<li><span class="tt"><a class="el" href="a06255.html" title="The scroll widget allows a content widget to be shown in less space than is required.">tt::scroll_widget</a></span>: Allows a larger child to be shown in less space.</li>
<li><span class="tt"><a class="el" href="a06235.html" title="A GUI widget which may exist anywhere on a window overlaid above any other widget.">tt::overlay_widget</a></span>: Shows a child anywhere on the window, overlaying above any other widget.</li>
<li><span class="tt"><a class="el" href="a06307.html" title="A toolbar widget is located at the top of a window and lays out its children horizontally.">tt::toolbar_widget</a></span>: Lays out children in a toolbar.</li>
</ul>
</li>
<li><b>Buttons</b><ul>
<li><span class="tt"><a class="el" href="a06227.html">tt::momentary_button_widget</a></span>: A push button designed to be used with a callback function.</li>
<li><span class="tt"><a class="el" href="a06299.html">tt::toolbar_button_widget</a></span>: A push button designed to be used with a callback function. Specifically for use inside a <span class="tt"><a class="el" href="a06307.html" title="A toolbar widget is located at the top of a window and lays out its children horizontally.">tt::toolbar_widget</a></span>.</li>
<li><span class="tt"><a class="el" href="a06295.html" title="A GUI widget that permits the user to make a binary choice.">tt::toggle_widget</a></span>: A button representing a binary choice and indiciating an immediate effect.</li>
<li><span class="tt"><a class="el" href="a06179.html" title="A GUI widget that permits the user to make a binary choice.">tt::checkbox_widget</a></span>: A button representing a binary choice, but also being able to show a third 'other' state.</li>
<li><span class="tt"><a class="el" href="a06239.html" title="A graphical control element that allows the user to choose only one of a predefined set of mutually e...">tt::radio_button_widget</a></span>: A button representing one out of mutually exclusive choices.</li>
<li><span class="tt"><a class="el" href="a06303.html" title="A graphical control element that allows the user to choose only one of a predefined set of mutually e...">tt::toolbar_tab_button_widget</a></span>: A button representing one out of mutally exclusive tabs. Designed to control the <span class="tt"><a class="el" href="a06279.html" title="A graphical element that shows only one of a predefined set of mutually exclusive child widgets.">tt::tab_widget</a></span>. For use inside a <span class="tt"><a class="el" href="a06307.html" title="A toolbar widget is located at the top of a window and lays out its children horizontally.">tt::toolbar_widget</a></span>.</li>
<li><span class="tt"><a class="el" href="a06223.html" title="A button that is part of a menu.">tt::menu_button_widget</a></span>: A button used inside menus.</li>
</ul>
</li>
<li><b>Misc</b><ul>
<li><span class="tt"><a class="el" href="a06267.html" title="A graphical control element that allows the user to choose only one of a predefined set of mutually e...">tt::selection_widget</a></span>: A selection widget allows selecting one out of a set of choices.</li>
<li><span class="tt"><a class="el" href="a06287.html" title="A single line text field.">tt::text_field_widget</a></span>: A text field widgets allows a user to enter free form text.</li>
<li><span class="tt"><a class="el" href="a06319.html">tt::window_widget</a></span>: A window widget is directly owned by a window.</li>
<li><span class="tt">tt::window_traffic_light_widget</span>: This widget displays the minimize, maximize and close button of a window.</li>
<li><span class="tt"><a class="el" href="a06251.html">tt::scroll_bar_widget</a></span>: This widget shows a scroll-bar and is part of a <span class="tt">scroll_widget</span>.</li>
<li><span class="tt"><a class="el" href="a06271.html">tt::system_menu_widget</a></span>: The system menu is a logo to show for the window and also is the mouse target for the system-menu that every window has in Windows 10. </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.8-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on <span class="timestamp"></span> for HikoGUI by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.16.1
</small></address>
<script>
mermaid.initialize({
    startOnLoad: true,
    theme: 'base',
    themeVariables: {
    primaryColor: '#f4f4ff',
    secondaryColor: 'rgba(244,244,255,0.9)',
    tertiaryColor: '#F9FAFC',
    },
});
</script>
</body>
</html>
</html>
